<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <title>Document</title>
    <style>
      *{
        box-sizing: border-box;
        margin:0;
        padding:0;
      }
      .fullScreen{
        position: fixed;
        z-index: 10;
        top:10px;
        left:10px;
      }
      .material-icons{
        font-size:1.5em;
        opacity:0.4;
        cursor: pointer;
        user-select: none;
        outline:none;
      }
      body {
        background: #202028;
        color: #fff;
        font-family: sans-serif;
        font-size: 2em;
        text-align: center;
      }
      .player{
        position:relative;
        top:60px;
      }
      .player.local{
        width: 100%;
        top:20px;
      }
      .player.local canvas {
        border-color: #fff;
        background-color: #00000085;
      }
      .opponents{
        font-size: .4em;
        display: grid;
        grid-template-columns: 1fr 1fr;
        position: fixed;
        left:50%;
        transform: translateX(-50%);
        width:200px;
        max-height:400px;
        opacity: 0.6;
      }
      .opponents .material-icons, .opponents .bottom_arrows{
        display: none;
      }
      .opponents .container{
        width:100%
      }
      .opponents canvas{
        width:100%;
        height:100%
      }
      canvas {
        border: solid 0.2em #707070;
        height: 85vh;
        max-width:100%;
        opacity: 1;
        max-height: 100vh;
      }
      .container{
        position: absolute;
        width:100%;
        top:0;
        display:grid;
        grid-template-columns: 1fr 2fr 2fr 1fr;
      }
      .bottom_arrows{
        width:100%;
        position: absolute;
        bottom:10px;
        display:grid;
        grid-template-columns: 1fr 4fr 1fr;
      }
    </style>
  </head>
  <body>
    <span class="fullScreen"><i class="material-icons" tabindex="-1">fullscreen</i></span>
    <template id="player-template">
      <div class="player">
        <div class="container"><span class="rotate-left"><i class="material-icons" tabindex="-1">arrow_left</i></span> <div>Score: <span class="score">0</span></div> <div>Level: <span class="level">0</span></div><span class="rotate-right"><i class="material-icons" tabindex="-1">arrow_right</i></span></div>
        <canvas class="tetris" width="240" height="400"></canvas>
        <div class="bottom_arrows"><span class="rotate-left"><i class="material-icons">rotate_left</i></span>
          <span><i class="material-icons" tabindex="-1">arrow_downward</i></span>
        <span class="rotate-right"><i class="material-icons" tabindex="-1">rotate_right</i></span></div>
      </div>
    </template>
    <div class="opponents"></div>
    <script>
      let fullScreenButton = document.querySelector('.fullScreen');
      fullScreenButton.addEventListener('click', () => {
        if(document.fullscreenEnabled !== false){
          if(!document.fullscreenElement){
            document.body.requestFullscreen().catch(err => console.log(err.message))
          }
        }
      })
      document.addEventListener('fullscreenchange', ()=>{
        if(!document.fullscreenElement){
          fullScreenButton.style.display = 'inline';
        }else{
          fullScreenButton.style.display = 'none';
        }
      })
    </script>
    <script src="tetris-manager.js"></script>
    <script src="connection-manager.js"></script>
    <script src="arena.js"></script>
    <script src="events.js"></script>
    <script src="player.js"></script>
    <script src="tetris.js"></script>
    <script src="main.js"></script>
  </body>
</html>
